<ion-content [fullscreen]="true">
  <div class="profile-container">
    <div class="profile-card user-info-card">
      <div class="avatar-section">
        <div class="avatar-circle">
          <ion-icon name="person-outline"></ion-icon>
        </div>
      </div>

      <div class="user-details">
        <h2>{{ userData.name }}</h2>
        <p class="email">
          <ion-icon name="mail-outline"></ion-icon> {{ userData.email }}
        </p>
        <p class="member-since">
          <ion-icon name="calendar-outline"></ion-icon>
          Miembro desde {{ formatDate(userData.created_at) }}
        </p>
      </div>
    </div>

    <div class="profile-card stats-card">
      <h3>
        <ion-icon name="bar-chart-outline"></ion-icon> Estadísticas de Tareas
      </h3>
      <div class="stats-grid">
        <div class="stat-item">
          <div class="stat-icon total">
            <ion-icon name="clipboard-outline"></ion-icon>
          </div>
          <div class="stat-content">
            <span class="stat-number">{{ stats.total }}</span>
            <span class="stat-label">Total</span>
          </div>
        </div>

        <div class="stat-item">
          <div class="stat-icon completed">
            <ion-icon name="checkmark-circle-outline"></ion-icon>
          </div>
          <div class="stat-content">
            <span class="stat-number">{{ stats.completed }}</span>
            <span class="stat-label">Completadas</span>
          </div>
        </div>

        <div class="stat-item">
          <div class="stat-icon pending">
            <ion-icon name="time-outline"></ion-icon>
          </div>
          <div class="stat-content">
            <span class="stat-number">{{ stats.pending }}</span>
            <span class="stat-label">Pendientes</span>
          </div>
        </div>

        <div class="stat-item">
          <div class="stat-icon in-progress">
            <ion-icon name="sync-outline"></ion-icon>
          </div>
          <div class="stat-content">
            <span class="stat-number">{{ stats.in_progress }}</span>
            <span class="stat-label">En Progreso</span>
          </div>
        </div>
      </div>
    </div>

    <div class="profile-card activity-card">
      <h3>
        <ion-icon name="pulse-outline"></ion-icon> Actividad (Últimos 7 Días)
      </h3>
      <div class="activity-summary">
        <div class="activity-item">
          <ion-icon
            name="add-circle-outline"
            class="activity-icon create"
          ></ion-icon>
          <span>{{ activityStats.created }} creadas</span>
        </div>
        <div class="activity-item">
          <ion-icon name="create-outline" class="activity-icon edit"></ion-icon>
          <span>{{ activityStats.edited }} editadas</span>
        </div>
        <div class="activity-item">
          <ion-icon
            name="trash-outline"
            class="activity-icon delete"
          ></ion-icon>
          <span>{{ activityStats.deleted }} eliminadas</span>
        </div>
      </div>
    </div>

    <div class="profile-card edit-card">
      <h3><ion-icon name="create-outline"></ion-icon> Editar Información</h3>

      <div class="form-group">
        <label for="name">Nombre</label>
        <ion-input
          id="name"
          [(ngModel)]="editName"
          placeholder="Tu nombre"
          type="text"
          class="custom-input"
        ></ion-input>
      </div>

      <div class="button-group">
        <ion-button
          expand="block"
          (click)="updateName()"
          [disabled]="editName === userData.name || editName.trim() === ''"
          class="save-button"
        >
          <ion-icon name="save-outline" slot="start"></ion-icon>
          Guardar Cambios
        </ion-button>
      </div>
    </div>
  </div>
</ion-content>
